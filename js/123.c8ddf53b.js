"use strict";(self["webpackChunkresource_capacity_estimator"]=self["webpackChunkresource_capacity_estimator"]||[]).push([[123],{3078:function(e,t,o){o.d(t,{B:function(){return s},H:function(){return n}});const n={type:"success",position:"bottom-right",timeout:2e3},s={type:"warning",position:"bottom-right",timeout:2e3}},3508:function(e,t,o){o.d(t,{Yz:function(){return Y}});o(1703);var n=o(4870),s=o(3396),i=o(9242),l=o(7139),a=Object.defineProperty,r=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,v=(e,t,o)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,d=(e,t)=>{for(var o in t||(t={}))c.call(t,o)&&v(e,o,t[o]);if(p)for(var o of p(t))m.call(t,o)&&v(e,o,t[o]);return e},h=(e,t)=>r(e,u(t));const _={type:"default",timeout:5e3,showCloseButton:!0,position:"top-right",transition:"bounce",hideProgressBar:!1,swipeClose:!0};var f,g;(g=f||(f={}))[g.TITLE_ONLY=0]="TITLE_ONLY",g[g.TITLE_DESCRIPTION=1]="TITLE_DESCRIPTION",g[g.COMPONENT=2]="COMPONENT",g[g.VNODE=3]="VNODE";const w={"top-left":{bounce:"mosha__bounceInLeft",zoom:"mosha__zoomIn",slide:"mosha__slideInLeft"},"top-right":{bounce:"mosha__bounceInRight",zoom:"mosha__zoomIn",slide:"mosha__slideInRight"},"top-center":{bounce:"mosha__bounceInDown",zoom:"mosha__zoomIn",slide:"mosha__slideInDown"},"bottom-center":{bounce:"mosha__bounceInUp",zoom:"mosha__zoomIn",slide:"mosha__slideInUp"},"bottom-right":{bounce:"mosha__bounceInRight",zoom:"mosha__zoomIn",slide:"mosha__slideInRight"},"bottom-left":{bounce:"mosha__bounceInLeft",zoom:"mosha__zoomIn",slide:"mosha__slideInLeft"}},b=(e,t=300)=>{let o;return(...n)=>{o&&(clearTimeout(o),o=void 0),o=setTimeout((()=>e(...n)),t)}},y=(e,t,o)=>{const i=(0,n.iH)(),l=(0,n.iH)(void 0),a=(0,n.iH)(),r=e=>e instanceof MouseEvent,u=n=>{!1!==o&&i.value&&(r(n)?l.value=i.value.clientX-n.clientX:l.value=i.value.touches[0].clientX-n.touches[0].clientX,a.value=h(d({},a.value),{transition:"none"}),e.endsWith("left")?a.value.left=-l.value+"px !important":e.endsWith("right")?a.value.right=`${l.value}px !important`:l.value>0?a.value.left=-l.value+"px !important":a.value.right=`${l.value}px !important`,Math.abs(l.value)>200&&t())},p=e=>{!1!==o&&(i.value&&(i.value=void 0),l.value&&(l.value=void 0),removeEventListener(e,u))};return(0,s.Ah)((()=>{!1!==o&&(p("mousemove"),p("touchmove"))})),{swipedDiff:l,swipeStart:i,swipeStyle:a,swipeHandler:u,startSwipeHandler:t=>{if(!1===o)return;i.value=t;const n=r(t)?"mousemove":"touchmove",s=r(t)?"mouseup":"touchend";addEventListener(n,u),addEventListener(s,(()=>(t=>{const o={transition:"left .3s ease-out",left:0},n={transition:"right .3s ease-out",right:0},s={transition:"all .3s ease-out",left:0,right:0};e.endsWith("left")?a.value=d(d({},a.value),o):e.endsWith("right")?a.value=d(d({},a.value),n):a.value=d(d({},a.value),s),i.value=void 0,l.value=void 0,removeEventListener(t,u)})(n)))},cleanUpMove:p}};var x=(0,s.aZ)({props:{type:{type:String,default:"default"}}});const C={class:"mosha__icon"},I={key:0,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},T=(0,s.Wm)("path",{d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"},null,-1),M={key:1,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},z=(0,s.Wm)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"},null,-1),k={key:2,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},H=(0,s.Wm)("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),S=(0,s.Wm)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"},null,-1),L={key:3,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#616161"},E=(0,s.Wm)("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),D=(0,s.Wm)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},null,-1),O={key:4,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},B=(0,s.Wm)("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),N=(0,s.Wm)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},null,-1);x.render=function(e,t,o,n,i,l){return(0,s.wg)(),(0,s.j4)("span",C,["warning"===e.type?((0,s.wg)(),(0,s.j4)("svg",I,[T])):"danger"===e.type?((0,s.wg)(),(0,s.j4)("svg",M,[z])):"success"===e.type?((0,s.wg)(),(0,s.j4)("svg",k,[H,S])):"default"===e.type?((0,s.wg)(),(0,s.j4)("svg",L,[E,D])):((0,s.wg)(),(0,s.j4)("svg",O,[B,N]))])};var W=(0,s.aZ)({name:"MToast",components:{MIcon:x},props:{visible:Boolean,text:{type:String,default:""},description:{type:String,default:""},toastBackgroundColor:{type:String,default:""},type:{type:String,default:"default"},onClose:{type:Function,default:()=>null},onCloseHandler:{type:Function,required:!0},offset:{type:Number,required:!0},id:{type:Number,required:!0},timeout:{type:Number,default:5e3},position:{type:String,required:!0},showCloseButton:{type:Boolean,default:!0},swipeClose:{type:Boolean,default:!0},hideProgressBar:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},transition:{type:String,default:"bounce"}},setup(e,t){const o=(0,n.iH)(),{width:i}=(()=>{const e=(0,n.iH)(-1),t=(0,n.iH)(-1),o=o=>{null!==o&&null!==o.currentTarget&&(e.value=o.currentTarget.innerWidth,t.value=o.currentTarget.innerHeight)};return(0,s.bv)((()=>{window.innerWidth>0&&(e.value=window.innerWidth,t.value=window.innerHeight),window.addEventListener("resize",b(o))})),(0,s.Ah)((()=>{window.removeEventListener("resize",b(o))})),{width:e,height:t}})(),{swipedDiff:l,startSwipeHandler:a,swipeStyle:r,cleanUpMove:u}=y(e.position,e.onCloseHandler,e.swipeClose),{transitionType:p}=(c=e.position,m=e.transition,v=l,{transitionType:(0,s.Fl)((()=>v.value>200?"mosha__fadeOutLeft":v.value<-200?"mosha__fadeOutRight":w[c][m]))});var c,m,v;const{start:d,stop:h,progress:_}=((e,t)=>{const o=(0,n.iH)(),i=(0,n.iH)(0),l=(0,n.iH)(t),a=(0,n.iH)(),r=(0,n.iH)(100),u=()=>{clearInterval(a.value),clearTimeout(o.value)};return(0,s.bv)((()=>{})),(0,s.Ah)((()=>{u()})),{start:()=>{i.value=Date.now(),clearTimeout(o.value),a.value=setInterval((()=>{r.value--}),t/100-5),o.value=setTimeout(e,l.value)},stop:()=>{clearInterval(a.value),clearTimeout(o.value),l.value-=Date.now()-i.value},clear:u,progress:r}})((()=>{e.onCloseHandler()}),e.timeout),f=(0,s.Fl)((()=>t.slots.default)),g=(0,s.Fl)((()=>/<\/?[a-z][\s\S]*>/i.test(e.description))),x=()=>{e.timeout>0&&d()};return(0,s.m0)((()=>{const{customStyle:t}=((e,t,o)=>{const n=(0,s.Fl)((()=>{switch(e){case"top-left":return{left:"0",top:`${t}px`};case"bottom-left":return{left:"0",bottom:`${t}px`};case"bottom-right":return{right:"0",bottom:`${t}px`};case"top-center":return{top:`${t}px`,left:"0",right:"0",marginRight:"auto",marginLeft:"auto"};case"bottom-center":return{bottom:`${t}px`,left:"0",right:"0",marginRight:"auto",marginLeft:"auto"};default:return{right:"0",top:`${t}px`}}}));return o.length>0&&(n.value.backgroundColor=o),{customStyle:n}})(e.position,e.offset,e.toastBackgroundColor);o.value=t.value})),(0,s.bv)((()=>{x()})),{style:o,transitionType:p,startTimer:x,progress:_,onTouchStart:e=>{a(e)},onMouseLeave:()=>{u("mousemove"),x()},onMouseDown:e=>{a(e)},swipeStyle:r,isSlotPassed:f,isDescriptionHtml:g,onMouseEnter:()=>{e.timeout>0&&i.value>425&&h()}}}});const P={class:"mosha__toast__content-wrapper"},V={class:"mosha__toast__content"},j={class:"mosha__toast__content__text"},R={key:1,class:"mosha__toast__content__description"},$={key:0,class:"mosha__toast__slot-wrapper"};W.render=function(e,t,o,n,a,r){const u=(0,s.up)("MIcon");return(0,s.wg)(),(0,s.j4)(i.uT,{name:e.transitionType,type:"animation"},{default:(0,s.w5)((()=>[e.visible?((0,s.wg)(),(0,s.j4)("div",{key:0,class:["mosha__toast",e.toastBackgroundColor?null:e.type],style:[e.style,e.swipeStyle],onMouseenter:t[2]||(t[2]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onMouseleave:t[3]||(t[3]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t)),onTouchstartPassive:t[4]||(t[4]=(...t)=>e.onTouchStart&&e.onTouchStart(...t)),onMousedown:t[5]||(t[5]=(...t)=>e.onMouseDown&&e.onMouseDown(...t))},[(0,s.Wm)("div",P,[e.showIcon?((0,s.wg)(),(0,s.j4)(u,{key:0,type:e.type},null,8,["type"])):(0,s.kq)("",!0),(0,s.Wm)("div",V,[(0,s.Wm)("div",j,(0,l.zw)(e.text),1),e.description.length>0&&e.isDescriptionHtml?((0,s.wg)(),(0,s.j4)("div",{key:0,class:"mosha__toast__content__description",innerHTML:e.description},null,8,["innerHTML"])):(0,s.kq)("",!0),e.description.length>0&&!e.isDescriptionHtml?((0,s.wg)(),(0,s.j4)("div",R,(0,l.zw)(e.description),1)):(0,s.kq)("",!0)])]),e.isSlotPassed?((0,s.wg)(),(0,s.j4)("div",$,[(0,s.WI)(e.$slots,"default")])):(0,s.kq)("",!0),e.showCloseButton?((0,s.wg)(),(0,s.j4)("div",{key:1,class:"mosha__toast__close-icon",onClick:t[1]||(t[1]=(...t)=>e.onCloseHandler&&e.onCloseHandler(...t))})):(0,s.kq)("",!0),e.hideProgressBar?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)("div",{key:2,class:"mosha__toast__progress",style:{width:`${e.progress}%`}},null,4))],38)):(0,s.kq)("",!0)])),_:3},8,["name"])};const q={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[],"top-center":[],"bottom-center":[]};let U=0;const Y=(e,t)=>{const o=U++,n=t?Z(t):_;if(e.__v_isVNode)return A(o,f.VNODE,n,e),{close:()=>G(o,n.position)};if(e.hasOwnProperty("render"))return A(o,f.COMPONENT,n,e),{close:()=>G(o,n.position)};const s=X(e);return A(o,f.TITLE_DESCRIPTION,n,s),{close:()=>G(o,n.position)}},A=(e,t,o,n)=>{setTimeout((()=>{const l=K(o,q,12),a=document.createElement("div");let r;document.body.appendChild(a),r=t===f.VNODE?(0,s.Wm)(W,F(o,e,l,G),(()=>[n])):t===f.TITLE_DESCRIPTION?(0,s.Wm)(W,F(o,e,l,G,n)):(0,s.Wm)(W,F(o,e,l,G),(()=>[(0,s.Wm)(n)])),(0,i.sY)(r,a),q[o.position].push({toastVNode:r,container:a}),r.component&&(r.component.props.visible=!0)}),1)},F=(e,t,o,n,s)=>h(d(d({},e),s),{id:t,offset:o,visible:!1,onCloseHandler:()=>{n(t,e.position?e.position:"top-right")}}),Z=e=>{const t=h(d({},e),{type:e.type||_.type,timeout:e.timeout||_.timeout,showCloseButton:e.showCloseButton,position:e.position||_.position,showIcon:e.showIcon,swipeClose:e.swipeClose,transition:e.transition||_.transition});return t.hideProgressBar=void 0!==t.timeout&&t.timeout<=0,void 0!==e.hideProgressBar&&(t.hideProgressBar=e.hideProgressBar),t},X=e=>({text:"string"==typeof e?e:e.title,description:"string"==typeof e?void 0:e.description}),K=(e,t,o)=>{let n=o;if(!e.position)throw new Error("no position");return t[e.position].forEach((({toastVNode:e})=>{const t=e.el.offsetHeight+o;n+=t||0})),n},G=(e,t)=>{const o=q[t],n=o.findIndex((({toastVNode:t})=>t.props&&e===t.props.id));if(-1===n)return;const{container:s,toastVNode:l}=o[n];if(!l.el)return;const a=l.el.offsetHeight;q[t].splice(n,1),((e,t,o,n)=>{for(let s=e;s<t.length;s++){const{toastVNode:e}=t[s];if(!e.el)return;const i=o.split("-")[0]||"top",l=parseInt(e.el.style[i],10)-n-12;if(!e.component)return;e.component.props.offset=l}})(n,o,t,a),l.component&&(l.component.props.visible=!1,l.component.props.onClose&&l.component.props.onClose(),setTimeout((()=>{(0,i.sY)(null,s),document.body.removeChild(s)}),1e3))}},8123:function(e,t,o){o.r(t),o.d(t,{default:function(){return j}});var n=o(3396),s=o(4870),i=o(7139),l=o(3508),a=o(3078);const r={class:"space-y-1 form-control flex flex-row"},u={class:"input-group input-group-xs"},p={class:"basis-1/4"},c=["value"],m={class:"basis-1/4"},v={name:"VMResource"};var d=(0,n.aZ)({...v,props:{type:{type:String,default:"none"},value:{type:Number,default:0}},setup(e){return(t,o)=>((0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("label",u,[(0,n._)("span",p,[(0,n._)("i",{class:(0,i.C_)("cpu"===e.type?"bi bi-cpu":"ram"===e.type?"bi bi-memory":"bi bi-device-hdd")},null,2)]),(0,n._)("input",{type:"number",placeholder:"Type here",class:(0,i.C_)("w-full input input-bordered input-xs "+(0==e.value?" input-error":"")),value:e.value,onInput:o[0]||(o[0]=e=>t.$emit("changed",e.target.value))},null,42,c),(0,n._)("span",m,(0,i.zw)("cpu"===e.type?"Cores":"GB"),1)])]))}});const h=d;var _=h,f=o(3538);const g={class:"overflow-x-auto"},w={class:"table w-full table-zebra"},b=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"ID"),(0,n._)("th",null,"Name"),(0,n._)("th",null,"OS"),(0,n._)("th",null,"Preset"),(0,n._)("th",null,[(0,n.Uk)("CPU "),(0,n._)("i",{class:"bi bi-cpu"})]),(0,n._)("th",null,[(0,n.Uk)("RAM "),(0,n._)("i",{class:"bi bi-memory"})]),(0,n._)("th",null,[(0,n.Uk)("Storage "),(0,n._)("i",{class:"bi bi-device-hdd"})]),(0,n._)("th",null,"Amount"),(0,n._)("th")])],-1),y=["value","onInput"],x=["value","onInput"],C=["onChange"],I=["value"],T={class:"flex flex-row"},M={class:"input-group input-group-xs"},z=(0,n._)("span",{class:"basis-1/4"},[(0,n._)("i",{class:"bi bi-123"})],-1),k=["value","onInput"],H=(0,n._)("span",{class:"basis-1/4"},"Total",-1),S=["onClick"],L={name:"VMTable"};var E=(0,n.aZ)({...L,props:{vms:{type:Array,default:null}},setup(e){const t=(0,f.e)();function o(e,o){let n=e.target.value,s=t.presets_vm.find((e=>e.name==n));t.vmsList.map((e=>{e.uuids==o&&(e.os=s?.os??"error",e.vcpu.rec=s?.cpu??0,e.vram.rec=s?.ram??0,e.vstorage.rec=s?.storage??0)})),(0,l.Yz)("Preset updated!",a.H)}return t.init(),(l,a)=>((0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("table",w,[b,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.vms,((e,a)=>((0,n.wg)(),(0,n.iD)("tr",{key:a},[(0,n._)("th",null,(0,i.zw)(a),1),(0,n._)("th",null,[(0,n._)("input",{class:"input input-bordered input-xs w-full max-w-xs",type:"text",value:e.name,onInput:t=>e.name=t?.target?.value||0},null,40,y)]),(0,n._)("th",null,[(0,n._)("input",{class:"input input-bordered input-xs w-full max-w-xs",type:"text",value:e.os,onInput:t=>e.os=t.target.value},null,40,x)]),(0,n._)("th",null,[(0,n._)("select",{class:"select select-bordered select-xs w-full max-w-xs",onChange:t=>o(t,e.uuids)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,s.SU)(t).presets_vm,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.id,value:e.name},(0,i.zw)(e.name),9,I)))),128))],40,C)]),(0,n._)("th",null,[(0,n.Wm)(_,{value:e.vcpu.rec,onChanged:t=>e.vcpu.rec=parseInt(t),type:"cpu"},null,8,["value","onChanged"])]),(0,n._)("th",null,[(0,n.Wm)(_,{value:e.vram.rec,onChanged:t=>e.vram.rec=parseInt(t),type:"ram"},null,8,["value","onChanged"])]),(0,n._)("th",null,[(0,n.Wm)(_,{value:e.vstorage.rec,onChanged:t=>e.vstorage.rec=parseInt(t),type:"storage"},null,8,["value","onChanged"])]),(0,n._)("th",null,[(0,n._)("div",T,[(0,n._)("label",M,[z,(0,n._)("input",{class:(0,i.C_)("w-full input input-bordered input-xs"+(0==e.uuids.length?" input-error":"")),type:"number",value:e.uuids.length,onInput:o=>{(0,s.SU)(t).check_uuid_length(e.name,parseInt(o.target.value))}},null,42,k),H])])]),(0,n._)("th",null,[(0,n._)("i",{class:"btn btn-sm bi bi-trash",onClick:t=>l.$emit("clk_remove_item",e.uuids)},null,8,S)])])))),128))])])]))}});const D=E;var O=D,B=o(6236);const N={class:"flex flex-col text-center"},W=(0,n._)("div",{class:"grid m-4 h-20 card bg-base-300 rounded-box place-items-center"},[(0,n._)("h1",null,"VM Configuration")],-1);var P=(0,n.aZ)({__name:"VMView",setup(e){(0,n.aZ)({VMTable:O});const t=(0,f.e)();function o(){t.vmsList.push({id:t.vmsList.length,uuids:[B.V.v4()],name:"new_vm",os:"none",vcpu:{min:0,rec:0,max:0},vram:{min:0,rec:0,max:0},vstorage:{min:0,rec:0,max:0}}),(0,l.Yz)("New VM added!",a.H)}function i(e){t.remove_vm(e),(0,l.Yz)("VM removed!",a.B)}return t.init(),(e,l)=>((0,n.wg)(),(0,n.iD)("div",N,[W,(0,n.Wm)(O,{class:"m-4",vms:(0,s.SU)(t).vmsList,onClk_remove_item:l[0]||(l[0]=e=>i(e))},null,8,["vms"]),(0,n._)("div",null,[(0,n._)("button",{class:"btn",onClick:l[1]||(l[1]=e=>o())},"Add VM")])]))}});const V=P;var j=V}}]);
//# sourceMappingURL=123.c8ddf53b.js.map